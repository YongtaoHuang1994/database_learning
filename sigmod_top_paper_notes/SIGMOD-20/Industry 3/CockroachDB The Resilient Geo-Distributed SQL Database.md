
https://github.com/cockroachdb/cockroach

go语言实现的OLTP数据库


我们生活在一个日益相互联系的世界，许多组织在各国甚至各大洲开展业务。为了服务于他们的全球用户群，各组织正在用能够将OLTP工作负载扩展到数百万用户的基于云的系统取代他们的传统DBMS。CockroachDB是一个可扩展的SQL DBMS，它从头构建，以支持这些全局OLTP工作负载，同时保持高可用性和强一致性。就像它的名字一样，CockroachDB通过复制和自动恢复机制来抵御灾难。本文介绍了CockroachDB的设计及其新的事务模型，该模型支持商品硬件上的一致地理分布事务。我们描述了CockroachDB如何复制和分发数据以实现容错和高性能，以及它的分布式SQL层如何随着数据库集群的大小自动扩展，同时提供用户期望的标准SQL接口。最后，我们提出了一个全面的绩效评估，并分享了两个蟑螂乙肝患者的案例研究。最后，我们描述了过去五年中在构建CockroachDB过程中获得的经验教训。

第2节 系统综述
第3节 事务
第4节 时钟同步
第5节 SQL
第6节 评估
第7节 经验教训

CockroachDB是一个源代码可用、可扩展的SQL数据库，旨在简化数据。我们的新型事务协议在不使用专用硬件的情况下实现了大规模串行隔离。基于一致性的复制提供了容错性和高可用性，并为从租用者（领先者）和跟随者副本进行本地读取提供了性能优化。地理分区和跟踪工作负载功能确保数据位于最接近访问它的用户的位置，从而最大限度地减少由于WAN往返请求而导致的延迟。最后，CockroachDB的SQL层为用户提供了SQL的灵活性和熟悉性，同时利用CockroachDB的分布式特性实现可伸缩性和性能。

CockroachDB已经为数千个组织提供了价值，但我们仍在继续迭代设计，并在每个版本中改进软件。我们即将发布的版本将包括完全重新设计的存储层、地理感知查询优化，以及对系统其他部分的众多改进。展望未来，我们计划改善对操作自动化的支持，为未来数据库从用户的角度真正实现无服务器化铺平道路。我们已经发布了一个完全管理的服务[11]，但要将用户与操作细节隔离，还有很多工作要做。分类存储、按需扩展和基于使用的定价只是我们需要开发的一些领域。使地理分布数据库在这样的环境中运行良好是一个独立研究的成熟问题。我们期待着支持和参与CockroachDB，并进一步推进我们的使命，使数据变得更容易。