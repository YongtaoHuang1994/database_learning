### 摘要
许多系统默认使用快照隔离或类似功能，而多版本并发控制（MVCC）对于提供这种时间点一致性仍然至关重要。MVCC中的一个主要问题是及时删除不必要的数据项版本，特别是在存在长期事务（LLT）的情况下。我们观察到，MySQL和PostgreSQL的最新版本仍然容易受到LLT的攻击。我们对现有提案的分析表明，解决这一问题的新方案必须提供严格的规则，以完全识别不必要的版本，并精心设计版本清理，以免LLT所需的旧版本会暂停垃圾收集。在本文中，我们将这些规则形式化为我们的版本修剪定理和版本分类，它们都构成了我们新的版本管理系统vDriver的理论基础，vDriver将其记录版本控制建立在一个新的原则上：单入保留行外（SIRO）版本控制。我们实现了vDriver的原型，并将其与MySQL-8.0和PostgreSQL-12.0集成。实验评估表明，使用vDriver的引擎在面对LLT的情况下继续执行死机版本的回收，同时在降低空间消耗的情况下保持事务吞吐量。


### 疑问

（1）长期事务的危害是：

（2）长期事务在MVCC中造成危害有：

（3）实验是在MySQL-8.0和PostgreSQL-12.0上实施的。重要的参数有如下：



### 结论

在过去的几十年中，我们见证了数据库技术的显著发展，特别是多版本并发控制，数据库界在MVCC的基础上达成了一致的共识。在这方面，记录版本控制对于确保对版本化数据进行正确、高效的并发控制至关重要。尽管付出了巨大的努力，现代数据库系统仍然容易受到一个古老问题的影响：长期事务。随着硬件供应商提供更多的计算核心，长期事务的副作用将加剧其对性能指标各个方面的影响。在目前的工作中，我们通过首先在定理中形式化理论框架并提出称为vDriver的版本管理体系结构来解决这个问题。对于版本管理，我们提出了一种新的版本控制原则SIRO版本控制，并根据我们的定理通过版本分类和版本修剪来实现。实验评估表明，vDriver通常可以解决存在长期事务时出现的许多重要问题。此外，在vDriver中，主动版本修剪和与版本分类一致的段修剪/清理有望为内存引擎在设计版本垃圾收集时提供有价值的见解，其中释放内存压力至关重要。

