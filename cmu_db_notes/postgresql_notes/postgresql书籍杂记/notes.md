###

![avatar](进程与内存架构图.jpg)
![avatar](共享内存.jpg)
![avatar](逻辑对象和层次关系.jpg)

#### 存储引擎

HEAP表

多版本控制
-  MVCC增删改
- 事务间可见性

文件页组织
- 链表
- 目录
- Heap

页面结构
Greenplum 页面 32K

元组结构
- 共享缓冲区
- 不同进程间 锁

### B树索引
**B树**：平衡树，每个子节点中都存有大量键值，树不会太高的。
B树两个性质
- 节点中存储若干个键值，节点有序排序
- 节点中的键值指的目标数据键值
**B+树**：
- 叶子节点存储了全部key，再指向data
- 内部节点中重复存储部分key，但不存data指针
- 叶子节点有一条正向遍历链表

**Blink树**：
B+树的改进
- 故障恢复
- 并发控制

GP索引是二级索引，
- 物理存储上是独立的文件，独立于表中的数据文件
- 分片存储 分片索引

### 查询编译/执行

查询计划树
- 迭代模型 pull / pipline greenplum使用
- 向量化模型
- push模型









